#include "pch.h"
#include "TankSprite.h"

using namespace std;
using namespace Tank;
using KennyKerr::RectF;

const array<RectF, (size_t)TankSpriteUnit::Count> s_tankSpriteMap
{
	// P1
	RectF{ 0.0f, 0.0f, 16.0f, 16.0f },
		RectF{ 16.0f, 0.0f, 32.0f, 16.0f },
		RectF{ 32.0f, 0.0f, 48.0f, 16.0f },
		RectF{ 48.0f, 0.0f, 64.0f, 16.0f },
		RectF{ 64.0f, 0.0f, 80.0f, 16.0f },
		RectF{ 80.0f, 0.0f, 96.0f, 16.0f },
		RectF{ 96.0f, 0.0f, 112.0f, 16.0f },
		RectF{ 112.0f, 0.0f, 128.0f, 16.0f },
		RectF{ 0.0f, 16.0f, 16.0f, 32.0f },
		RectF{ 16.0f, 16.0f, 32.0f, 32.0f },
		RectF{ 32.0f, 16.0f, 48.0f, 32.0f },
		RectF{ 48.0f, 16.0f, 64.0f, 32.0f },
		RectF{ 64.0f, 16.0f, 80.0f, 32.0f },
		RectF{ 80.0f, 16.0f, 96.0f, 32.0f },
		RectF{ 96.0f, 16.0f, 112.0f, 32.0f },
		RectF{ 112.0f, 16.0f, 128.0f, 32.0f },
		RectF{ 0.0f, 32.0f, 16.0f, 48.0f },
		RectF{ 16.0f, 32.0f, 32.0f, 48.0f },
		RectF{ 32.0f, 32.0f, 48.0f, 48.0f },
		RectF{ 48.0f, 32.0f, 64.0f, 48.0f },
		RectF{ 64.0f, 32.0f, 80.0f, 48.0f },
		RectF{ 80.0f, 32.0f, 96.0f, 48.0f },
		RectF{ 96.0f, 32.0f, 112.0f, 48.0f },
		RectF{ 112.0f, 32.0f, 128.0f, 48.0f },
		RectF{ 0.0f, 48.0f, 16.0f, 64.0f },
		RectF{ 16.0f, 48.0f, 32.0f, 64.0f },
		RectF{ 32.0f, 48.0f, 48.0f, 64.0f },
		RectF{ 48.0f, 48.0f, 64.0f, 64.0f },
		RectF{ 64.0f, 48.0f, 80.0f, 64.0f },
		RectF{ 80.0f, 48.0f, 96.0f, 64.0f },
		RectF{ 96.0f, 48.0f, 112.0f, 64.0f },
		RectF{ 112.0f, 48.0f, 128.0f, 64.0f },

		RectF{ 0.0f, 64.0f, 16.0f, 80.0f },
		RectF{ 16.0f, 64.0f, 32.0f, 80.0f },
		RectF{ 32.0f, 64.0f, 48.0f, 80.0f },
		RectF{ 48.0f, 64.0f, 64.0f, 80.0f },
		RectF{ 64.0f, 64.0f, 80.0f, 80.0f },
		RectF{ 80.0f, 64.0f, 96.0f, 80.0f },
		RectF{ 96.0f, 64.0f, 112.0f, 80.0f },
		RectF{ 112.0f, 64.0f, 128.0f, 80.0f },
		RectF{ 0.0f, 80.0f, 16.0f, 96.0f },
		RectF{ 16.0f, 80.0f, 32.0f, 96.0f },
		RectF{ 32.0f, 80.0f, 48.0f, 96.0f },
		RectF{ 48.0f, 80.0f, 64.0f, 96.0f },
		RectF{ 64.0f, 80.0f, 80.0f, 96.0f },
		RectF{ 80.0f, 80.0f, 96.0f, 96.0f },
		RectF{ 96.0f, 80.0f, 112.0f, 96.0f },
		RectF{ 112.0f, 80.0f, 128.0f, 96.0f },
		RectF{ 0.0f, 96.0f, 16.0f, 112.0f },
		RectF{ 16.0f, 96.0f, 32.0f, 112.0f },
		RectF{ 32.0f, 96.0f, 48.0f, 112.0f },
		RectF{ 48.0f, 96.0f, 64.0f, 112.0f },
		RectF{ 64.0f, 96.0f, 80.0f, 112.0f },
		RectF{ 80.0f, 96.0f, 96.0f, 112.0f },
		RectF{ 96.0f, 96.0f, 112.0f, 112.0f },
		RectF{ 112.0f, 96.0f, 128.0f, 112.0f },
		RectF{ 0.0f, 112.0f, 16.0f, 128.0f },
		RectF{ 16.0f, 112.0f, 32.0f, 128.0f },
		RectF{ 32.0f, 112.0f, 48.0f, 128.0f },
		RectF{ 48.0f, 112.0f, 64.0f, 128.0f },
		RectF{ 64.0f, 112.0f, 80.0f, 128.0f },
		RectF{ 80.0f, 112.0f, 96.0f, 128.0f },
		RectF{ 96.0f, 112.0f, 112.0f, 128.0f },
		RectF{ 112.0f, 112.0f, 128.0f, 128.0f },

		RectF{ 0.0f, 128.0f, 16.0f, 144.0f },
		RectF{ 16.0f, 128.0f, 32.0f, 144.0f },
		RectF{ 32.0f, 128.0f, 48.0f, 144.0f },
		RectF{ 48.0f, 128.0f, 64.0f, 144.0f },
		RectF{ 64.0f, 128.0f, 80.0f, 144.0f },
		RectF{ 80.0f, 128.0f, 96.0f, 144.0f },
		RectF{ 96.0f, 128.0f, 112.0f, 144.0f },
		RectF{ 112.0f, 128.0f, 128.0f, 144.0f },
		RectF{ 0.0f, 144.0f, 16.0f, 160.0f },
		RectF{ 16.0f, 144.0f, 32.0f, 160.0f },
		RectF{ 32.0f, 144.0f, 48.0f, 160.0f },
		RectF{ 48.0f, 144.0f, 64.0f, 160.0f },
		RectF{ 64.0f, 144.0f, 80.0f, 160.0f },
		RectF{ 80.0f, 144.0f, 96.0f, 160.0f },
		RectF{ 96.0f, 144.0f, 112.0f, 160.0f },
		RectF{ 112.0f, 144.0f, 128.0f, 160.0f },
		RectF{ 0.0f, 160.0f, 16.0f, 176.0f },
		RectF{ 16.0f, 160.0f, 32.0f, 176.0f },
		RectF{ 32.0f, 160.0f, 48.0f, 176.0f },
		RectF{ 48.0f, 160.0f, 64.0f, 176.0f },
		RectF{ 64.0f, 160.0f, 80.0f, 176.0f },
		RectF{ 80.0f, 160.0f, 96.0f, 176.0f },
		RectF{ 96.0f, 160.0f, 112.0f, 176.0f },
		RectF{ 112.0f, 160.0f, 128.0f, 176.0f },
		RectF{ 0.0f, 176.0f, 16.0f, 192.0f },
		RectF{ 16.0f, 176.0f, 32.0f, 192.0f },
		RectF{ 32.0f, 176.0f, 48.0f, 192.0f },
		RectF{ 48.0f, 176.0f, 64.0f, 192.0f },
		RectF{ 64.0f, 176.0f, 80.0f, 192.0f },
		RectF{ 80.0f, 176.0f, 96.0f, 192.0f },
		RectF{ 96.0f, 176.0f, 112.0f, 192.0f },
		RectF{ 112.0f, 176.0f, 128.0f, 192.0f },

		RectF{ 0.0f, 192.0f, 16.0f, 208.0f },
		RectF{ 16.0f, 192.0f, 32.0f, 208.0f },
		RectF{ 32.0f, 192.0f, 48.0f, 208.0f },
		RectF{ 48.0f, 192.0f, 64.0f, 208.0f },
		RectF{ 64.0f, 192.0f, 80.0f, 208.0f },
		RectF{ 80.0f, 192.0f, 96.0f, 208.0f },
		RectF{ 96.0f, 192.0f, 112.0f, 208.0f },
		RectF{ 112.0f, 192.0f, 128.0f, 208.0f },
		RectF{ 0.0f, 208.0f, 16.0f, 224.0f },
		RectF{ 16.0f, 208.0f, 32.0f, 224.0f },
		RectF{ 32.0f, 208.0f, 48.0f, 224.0f },
		RectF{ 48.0f, 208.0f, 64.0f, 224.0f },
		RectF{ 64.0f, 208.0f, 80.0f, 224.0f },
		RectF{ 80.0f, 208.0f, 96.0f, 224.0f },
		RectF{ 96.0f, 208.0f, 112.0f, 224.0f },
		RectF{ 112.0f, 208.0f, 128.0f, 224.0f },
		RectF{ 0.0f, 224.0f, 16.0f, 240.0f },
		RectF{ 16.0f, 224.0f, 32.0f, 240.0f },
		RectF{ 32.0f, 224.0f, 48.0f, 240.0f },
		RectF{ 48.0f, 224.0f, 64.0f, 240.0f },
		RectF{ 64.0f, 224.0f, 80.0f, 240.0f },
		RectF{ 80.0f, 224.0f, 96.0f, 240.0f },
		RectF{ 96.0f, 224.0f, 112.0f, 240.0f },
		RectF{ 112.0f, 224.0f, 128.0f, 240.0f },
		RectF{ 0.0f, 240.0f, 16.0f, 256.0f },
		RectF{ 16.0f, 240.0f, 32.0f, 256.0f },
		RectF{ 32.0f, 240.0f, 48.0f, 256.0f },
		RectF{ 48.0f, 240.0f, 64.0f, 256.0f },
		RectF{ 64.0f, 240.0f, 80.0f, 256.0f },
		RectF{ 80.0f, 240.0f, 96.0f, 256.0f },
		RectF{ 96.0f, 240.0f, 112.0f, 256.0f },
		RectF{ 112.0f, 240.0f, 128.0f, 256.0f },

		RectF{ 0.0f, 256.0f, 16.0f, 272.0f },
		RectF{ 16.0f, 256.0f, 32.0f, 272.0f },
		RectF{ 32.0f, 256.0f, 48.0f, 272.0f },
		RectF{ 48.0f, 256.0f, 64.0f, 272.0f },
		RectF{ 64.0f, 256.0f, 80.0f, 272.0f },
		RectF{ 80.0f, 256.0f, 96.0f, 272.0f },
		RectF{ 96.0f, 256.0f, 112.0f, 272.0f },
		RectF{ 112.0f, 256.0f, 128.0f, 272.0f },
		RectF{ 0.0f, 272.0f, 16.0f, 288.0f },
		RectF{ 16.0f, 272.0f, 32.0f, 288.0f },
		RectF{ 32.0f, 272.0f, 48.0f, 288.0f },
		RectF{ 48.0f, 272.0f, 64.0f, 288.0f },
		RectF{ 64.0f, 272.0f, 80.0f, 288.0f },
		RectF{ 80.0f, 272.0f, 96.0f, 288.0f },
		RectF{ 96.0f, 272.0f, 112.0f, 288.0f },
		RectF{ 112.0f, 272.0f, 128.0f, 288.0f },
		RectF{ 0.0f, 288.0f, 16.0f, 304.0f },
		RectF{ 16.0f, 288.0f, 32.0f, 304.0f },
		RectF{ 32.0f, 288.0f, 48.0f, 304.0f },
		RectF{ 48.0f, 288.0f, 64.0f, 304.0f },
		RectF{ 64.0f, 288.0f, 80.0f, 304.0f },
		RectF{ 80.0f, 288.0f, 96.0f, 304.0f },
		RectF{ 96.0f, 288.0f, 112.0f, 304.0f },
		RectF{ 112.0f, 288.0f, 128.0f, 304.0f },
		RectF{ 0.0f, 304.0f, 16.0f, 320.0f },
		RectF{ 16.0f, 304.0f, 32.0f, 320.0f },
		RectF{ 32.0f, 304.0f, 48.0f, 320.0f },
		RectF{ 48.0f, 304.0f, 64.0f, 320.0f },
		RectF{ 64.0f, 304.0f, 80.0f, 320.0f },
		RectF{ 80.0f, 304.0f, 96.0f, 320.0f },
		RectF{ 96.0f, 304.0f, 112.0f, 320.0f },
		RectF{ 112.0f, 304.0f, 128.0f, 320.0f },

		RectF{ 0.0f, 320.0f, 16.0f, 336.0f },
		RectF{ 16.0f, 320.0f, 32.0f, 336.0f },
		RectF{ 32.0f, 320.0f, 48.0f, 336.0f },
		RectF{ 48.0f, 320.0f, 64.0f, 336.0f },
		RectF{ 64.0f, 320.0f, 80.0f, 336.0f },
		RectF{ 80.0f, 320.0f, 96.0f, 336.0f },
		RectF{ 96.0f, 320.0f, 112.0f, 336.0f },
		RectF{ 112.0f, 320.0f, 128.0f, 336.0f },
		RectF{ 0.0f, 336.0f, 16.0f, 352.0f },
		RectF{ 16.0f, 336.0f, 32.0f, 352.0f },
		RectF{ 32.0f, 336.0f, 48.0f, 352.0f },
		RectF{ 48.0f, 336.0f, 64.0f, 352.0f },
		RectF{ 64.0f, 336.0f, 80.0f, 352.0f },
		RectF{ 80.0f, 336.0f, 96.0f, 352.0f },
		RectF{ 96.0f, 336.0f, 112.0f, 352.0f },
		RectF{ 112.0f, 336.0f, 128.0f, 352.0f },
		RectF{ 0.0f, 352.0f, 16.0f, 368.0f },
		RectF{ 16.0f, 352.0f, 32.0f, 368.0f },
		RectF{ 32.0f, 352.0f, 48.0f, 368.0f },
		RectF{ 48.0f, 352.0f, 64.0f, 368.0f },
		RectF{ 64.0f, 352.0f, 80.0f, 368.0f },
		RectF{ 80.0f, 352.0f, 96.0f, 368.0f },
		RectF{ 96.0f, 352.0f, 112.0f, 368.0f },
		RectF{ 112.0f, 352.0f, 128.0f, 368.0f },
		RectF{ 0.0f, 368.0f, 16.0f, 384.0f },
		RectF{ 16.0f, 368.0f, 32.0f, 384.0f },
		RectF{ 32.0f, 368.0f, 48.0f, 384.0f },
		RectF{ 48.0f, 368.0f, 64.0f, 384.0f },
		RectF{ 64.0f, 368.0f, 80.0f, 384.0f },
		RectF{ 80.0f, 368.0f, 96.0f, 384.0f },
		RectF{ 96.0f, 368.0f, 112.0f, 384.0f },
		RectF{ 112.0f, 368.0f, 128.0f, 384.0f },

		RectF{ 0.0f, 384.0f, 16.0f, 400.0f },
		RectF{ 16.0f, 384.0f, 32.0f, 400.0f },
		RectF{ 32.0f, 384.0f, 64.0f, 416.0f },
		RectF{ 0.0f, 400.0f, 16.0f, 416.0f },
		RectF{ 64.0f, 384.0f, 72.0f, 392.0f },
		RectF{ 72.0f, 384.0f, 80.0f, 392.0f },
		RectF{ 64.0f, 392.0f, 72.0f, 400.0f },
		RectF{ 72.0f, 392.0f, 80.0f, 400.0f },
		RectF{ 64.0f, 400.0f, 72.0f, 408.0f },
		RectF{ 72.0f, 400.0f, 80.0f, 408.0f },
		RectF{ 64.0f, 408.0f, 72.0f, 416.0f },
		RectF{ 72.0f, 408.0f, 80.0f, 416.0f },
		RectF{ 80.0f, 384.0f, 96.0f, 400.0f },
		RectF{ 80.0f, 400.0f, 96.0f, 416.0f },
		RectF{ 96.0f, 384.0f, 100.0f, 387.0f },
		RectF{ 100.0f, 384.0f, 103.0f, 388.0f },
		RectF{ 104.0f, 384.0f, 108.0f, 387.0f },
		RectF{ 108.0f, 384.0f, 111.0f, 388.0f },
		RectF{ 96.0f, 400.0f, 112.0f, 416.0f },

		RectF{ 0.0f,   416.0f, 16.0f, 432.0f },
		RectF{ 16.0f,  416.0f, 32.0f, 432.0f },
		RectF{ 32.0f,  416.0f, 48.0f, 432.0f },
		RectF{ 48.0f,  416.0f, 64.0f, 432.0f },
		RectF{ 64.0f,  416.0f, 80.0f, 432.0f },
		RectF{ 80.0f,  416.0f, 96.0f, 432.0f },

		RectF{ 0.0f,   432.0f, 16.0f, 448.0f },
		RectF{ 16.0f,  432.0f, 32.0f, 448.0f },
		RectF{ 32.0f,  432.0f, 48.0f, 448.0f },
		RectF{ 48.0f,  432.0f, 64.0f, 448.0f },
		RectF{ 64.0f,  432.0f, 80.0f, 448.0f },
		RectF{ 80.0f,  432.0f, 96.0f, 448.0f },
		RectF{ 96.0f,  432.0f, 112.0f, 448.0f },
		RectF{ 112.0f, 432.0f, 128.0f, 448.0f },
};

const std::array<RectF, (size_t)TankSpriteUnit::Count> Tank::CreateTankSpriteMap()
{
	return s_tankSpriteMap;
}

KennyKerr::SizeF Tank::GetSpriteUnitSize(TankSpriteUnit id)
{
	auto rect = s_tankSpriteMap[(size_t)id];
	return KennyKerr::SizeF
	{
		rect.Right - rect.Left, 
		rect.Bottom - rect.Top
	};
}

TankSpriteUnit Tank::operator+(TankSpriteUnit left, int v)
{
	return TankSpriteUnit((unsigned char)left + v);
}
